glabel func_80021E6C
/* 10DCC 80021E6C 27BDFF88 */  addiu   $sp, $sp, 0xFF88           ## $sp = FFFFFF88
/* 10DD0 80021E70 AFB00030 */  sw      $s0, 0x0030($sp)
/* 10DD4 80021E74 00A08025 */  or      $s0, $a1, $zero            ## $s0 = 00000000
/* 10DD8 80021E78 AFBF0034 */  sw      $ra, 0x0034($sp)
/* 10DDC 80021E7C AFA40078 */  sw      $a0, 0x0078($sp)
/* 10DE0 80021E80 AFA60080 */  sw      $a2, 0x0080($sp)
/* 10DE4 80021E84 AFA70084 */  sw      $a3, 0x0084($sp)
/* 10DE8 80021E88 C6040028 */  lwc1    $f4, 0x0028($s0)           ## 00000028
/* 10DEC 80021E8C C6060104 */  lwc1    $f6, 0x0104($s0)           ## 00000104
/* 10DF0 80021E90 24010032 */  addiu   $at, $zero, 0x0032         ## $at = 00000032
/* 10DF4 80021E94 46062201 */  sub.s   $f8, $f4, $f6
/* 10DF8 80021E98 E7A80074 */  swc1    $f8, 0x0074($sp)
/* 10DFC 80021E9C 9207007D */  lbu     $a3, 0x007D($s0)           ## 0000007D
/* 10E00 80021EA0 50E1000A */  beql    $a3, $at, .L80021ECC
/* 10E04 80021EA4 8FB8008C */  lw      $t8, 0x008C($sp)
/* 10E08 80021EA8 960E0088 */  lhu     $t6, 0x0088($s0)           ## 00000088
/* 10E0C 80021EAC 8FA40078 */  lw      $a0, 0x0078($sp)
/* 10E10 80021EB0 00E02825 */  or      $a1, $a3, $zero            ## $a1 = 00000000
/* 10E14 80021EB4 31CF0001 */  andi    $t7, $t6, 0x0001           ## $t7 = 00000000
/* 10E18 80021EB8 11E00003 */  beq     $t7, $zero, .L80021EC8
/* 10E1C 80021EBC 248407C0 */  addiu   $a0, $a0, 0x07C0           ## $a0 = 000007C0
/* 10E20 80021EC0 0C00D460 */  jal     func_80035180
/* 10E24 80021EC4 02003025 */  or      $a2, $s0, $zero            ## $a2 = 00000000
.L80021EC8:
/* 10E28 80021EC8 8FB8008C */  lw      $t8, 0x008C($sp)
.L80021ECC:
/* 10E2C 80021ECC 33190001 */  andi    $t9, $t8, 0x0001           ## $t9 = 00000000
/* 10E30 80021ED0 13200041 */  beq     $t9, $zero, .L80021FD8
/* 10E34 80021ED4 33030080 */  andi    $v1, $t8, 0x0080           ## $v1 = 00000000
/* 10E38 80021ED8 14600014 */  bne     $v1, $zero, .L80021F2C
/* 10E3C 80021EDC 8FA40078 */  lw      $a0, 0x0078($sp)
/* 10E40 80021EE0 C7AA0084 */  lwc1    $f10, 0x0084($sp)
/* 10E44 80021EE4 C7B00080 */  lwc1    $f16, 0x0080($sp)
/* 10E48 80021EE8 26060024 */  addiu   $a2, $s0, 0x0024           ## $a2 = 00000024
/* 10E4C 80021EEC 26080074 */  addiu   $t0, $s0, 0x0074           ## $t0 = 00000074
/* 10E50 80021EF0 27A90060 */  addiu   $t1, $sp, 0x0060           ## $t1 = FFFFFFE8
/* 10E54 80021EF4 AFA90018 */  sw      $t1, 0x0018($sp)
/* 10E58 80021EF8 AFA80014 */  sw      $t0, 0x0014($sp)
/* 10E5C 80021EFC AFA6003C */  sw      $a2, 0x003C($sp)
/* 10E60 80021F00 248407C0 */  addiu   $a0, $a0, 0x07C0           ## $a0 = 000007C0
/* 10E64 80021F04 27A50064 */  addiu   $a1, $sp, 0x0064           ## $a1 = FFFFFFEC
/* 10E68 80021F08 26070100 */  addiu   $a3, $s0, 0x0100           ## $a3 = 00000100
/* 10E6C 80021F0C AFB0001C */  sw      $s0, 0x001C($sp)
/* 10E70 80021F10 AFA30040 */  sw      $v1, 0x0040($sp)
/* 10E74 80021F14 E7AA0010 */  swc1    $f10, 0x0010($sp)
/* 10E78 80021F18 0C00BFF9 */  jal     func_8002FFE4
/* 10E7C 80021F1C E7B00020 */  swc1    $f16, 0x0020($sp)
/* 10E80 80021F20 8FA30040 */  lw      $v1, 0x0040($sp)
/* 10E84 80021F24 14400014 */  bne     $v0, $zero, .L80021F78
/* 10E88 80021F28 8FA6003C */  lw      $a2, 0x003C($sp)
.L80021F2C:
/* 10E8C 80021F2C 10600027 */  beq     $v1, $zero, .L80021FCC
/* 10E90 80021F30 8FA40078 */  lw      $a0, 0x0078($sp)
/* 10E94 80021F34 C7B20084 */  lwc1    $f18, 0x0084($sp)
/* 10E98 80021F38 C7A40080 */  lwc1    $f4, 0x0080($sp)
/* 10E9C 80021F3C 26060024 */  addiu   $a2, $s0, 0x0024           ## $a2 = 00000024
/* 10EA0 80021F40 260A0074 */  addiu   $t2, $s0, 0x0074           ## $t2 = 00000074
/* 10EA4 80021F44 27AB0060 */  addiu   $t3, $sp, 0x0060           ## $t3 = FFFFFFE8
/* 10EA8 80021F48 AFAB0018 */  sw      $t3, 0x0018($sp)
/* 10EAC 80021F4C AFAA0014 */  sw      $t2, 0x0014($sp)
/* 10EB0 80021F50 AFA6003C */  sw      $a2, 0x003C($sp)
/* 10EB4 80021F54 248407C0 */  addiu   $a0, $a0, 0x07C0           ## $a0 = 000007C0
/* 10EB8 80021F58 27A50064 */  addiu   $a1, $sp, 0x0064           ## $a1 = FFFFFFEC
/* 10EBC 80021F5C 26070100 */  addiu   $a3, $s0, 0x0100           ## $a3 = 00000100
/* 10EC0 80021F60 AFB0001C */  sw      $s0, 0x001C($sp)
/* 10EC4 80021F64 E7B20010 */  swc1    $f18, 0x0010($sp)
/* 10EC8 80021F68 0C00C013 */  jal     func_8003004C
/* 10ECC 80021F6C E7A40020 */  swc1    $f4, 0x0020($sp)
/* 10ED0 80021F70 10400016 */  beq     $v0, $zero, .L80021FCC
/* 10ED4 80021F74 8FA6003C */  lw      $a2, 0x003C($sp)
.L80021F78:
/* 10ED8 80021F78 8E020074 */  lw      $v0, 0x0074($s0)           ## 00000074
/* 10EDC 80021F7C 00C02025 */  or      $a0, $a2, $zero            ## $a0 = 00000000
/* 10EE0 80021F80 27A50064 */  addiu   $a1, $sp, 0x0064           ## $a1 = FFFFFFEC
/* 10EE4 80021F84 0C018F2B */  jal     Math_Vec3f_Copy              ## Vec3f_Copy
/* 10EE8 80021F88 AFA2005C */  sw      $v0, 0x005C($sp)
/* 10EEC 80021F8C 8FA2005C */  lw      $v0, 0x005C($sp)
/* 10EF0 80021F90 844C000C */  lh      $t4, 0x000C($v0)           ## 0000000C
/* 10EF4 80021F94 844D0008 */  lh      $t5, 0x0008($v0)           ## 00000008
/* 10EF8 80021F98 448C3000 */  mtc1    $t4, $f6                   ## $f6 = 0.00
/* 10EFC 80021F9C 448D4000 */  mtc1    $t5, $f8                   ## $f8 = 0.00
/* 10F00 80021FA0 46803320 */  cvt.s.w $f12, $f6
/* 10F04 80021FA4 0C02A93E */  jal     atan2s
/* 10F08 80021FA8 468043A0 */  cvt.s.w $f14, $f8
/* 10F0C 80021FAC 960E0088 */  lhu     $t6, 0x0088($s0)           ## 00000088
/* 10F10 80021FB0 A602007E */  sh      $v0, 0x007E($s0)           ## 0000007E
/* 10F14 80021FB4 35CF0008 */  ori     $t7, $t6, 0x0008           ## $t7 = 00000008
/* 10F18 80021FB8 A60F0088 */  sh      $t7, 0x0088($s0)           ## 00000088
/* 10F1C 80021FBC 8FB90060 */  lw      $t9, 0x0060($sp)
/* 10F20 80021FC0 A219007C */  sb      $t9, 0x007C($s0)           ## 0000007C
/* 10F24 80021FC4 10000005 */  beq     $zero, $zero, .L80021FDC
/* 10F28 80021FC8 C60A0024 */  lwc1    $f10, 0x0024($s0)          ## 00000024
.L80021FCC:
/* 10F2C 80021FCC 96180088 */  lhu     $t8, 0x0088($s0)           ## 00000088
/* 10F30 80021FD0 3308FFF7 */  andi    $t0, $t8, 0xFFF7           ## $t0 = 00000000
/* 10F34 80021FD4 A6080088 */  sh      $t0, 0x0088($s0)           ## 00000088
.L80021FD8:
/* 10F38 80021FD8 C60A0024 */  lwc1    $f10, 0x0024($s0)          ## 00000024
.L80021FDC:
/* 10F3C 80021FDC 8FA9008C */  lw      $t1, 0x008C($sp)
/* 10F40 80021FE0 3C014120 */  lui     $at, 0x4120                ## $at = 41200000
/* 10F44 80021FE4 E7AA0064 */  swc1    $f10, 0x0064($sp)
/* 10F48 80021FE8 C610002C */  lwc1    $f16, 0x002C($s0)          ## 0000002C
/* 10F4C 80021FEC 312A0002 */  andi    $t2, $t1, 0x0002           ## $t2 = 00000000
/* 10F50 80021FF0 11400026 */  beq     $t2, $zero, .L8002208C
/* 10F54 80021FF4 E7B0006C */  swc1    $f16, 0x006C($sp)
/* 10F58 80021FF8 44810000 */  mtc1    $at, $f0                   ## $f0 = 10.00
/* 10F5C 80021FFC 27A50058 */  addiu   $a1, $sp, 0x0058           ## $a1 = FFFFFFE0
/* 10F60 80022000 C7A60088 */  lwc1    $f6, 0x0088($sp)
/* 10F64 80022004 C7A80074 */  lwc1    $f8, 0x0074($sp)
/* 10F68 80022008 C6120104 */  lwc1    $f18, 0x0104($s0)          ## 00000104
/* 10F6C 8002200C 8FA40078 */  lw      $a0, 0x0078($sp)
/* 10F70 80022010 46083280 */  add.s   $f10, $f6, $f8
/* 10F74 80022014 3C0B8012 */  lui     $t3, 0x8012                ## $t3 = 80120000
/* 10F78 80022018 3C0C8012 */  lui     $t4, 0x8012                ## $t4 = 80120000
/* 10F7C 8002201C 46009100 */  add.s   $f4, $f18, $f0
/* 10F80 80022020 258C8BFC */  addiu   $t4, $t4, 0x8BFC           ## $t4 = 80118BFC
/* 10F84 80022024 256B8BF4 */  addiu   $t3, $t3, 0x8BF4           ## $t3 = 80118BF4
/* 10F88 80022028 46005401 */  sub.s   $f16, $f10, $f0
/* 10F8C 8002202C E7A40068 */  swc1    $f4, 0x0068($sp)
/* 10F90 80022030 AFAB0010 */  sw      $t3, 0x0010($sp)
/* 10F94 80022034 AFAC0014 */  sw      $t4, 0x0014($sp)
/* 10F98 80022038 44078000 */  mfc1    $a3, $f16
/* 10F9C 8002203C AFB00018 */  sw      $s0, 0x0018($sp)
/* 10FA0 80022040 27A60064 */  addiu   $a2, $sp, 0x0064           ## $a2 = FFFFFFEC
/* 10FA4 80022044 0C00C089 */  jal     func_80030224
/* 10FA8 80022048 248407C0 */  addiu   $a0, $a0, 0x07C0           ## $a0 = 000007C0
/* 10FAC 8002204C 5040000D */  beql    $v0, $zero, .L80022084
/* 10FB0 80022050 960F0088 */  lhu     $t7, 0x0088($s0)           ## 00000088
/* 10FB4 80022054 960D0088 */  lhu     $t5, 0x0088($s0)           ## 00000088
/* 10FB8 80022058 3C014120 */  lui     $at, 0x4120                ## $at = 41200000
/* 10FBC 8002205C 44814000 */  mtc1    $at, $f8                   ## $f8 = 10.00
/* 10FC0 80022060 35AE0010 */  ori     $t6, $t5, 0x0010           ## $t6 = 00000010
/* 10FC4 80022064 A60E0088 */  sh      $t6, 0x0088($s0)           ## 00000088
/* 10FC8 80022068 C7A40074 */  lwc1    $f4, 0x0074($sp)
/* 10FCC 8002206C C7B20058 */  lwc1    $f18, 0x0058($sp)
/* 10FD0 80022070 46049180 */  add.s   $f6, $f18, $f4
/* 10FD4 80022074 46083281 */  sub.s   $f10, $f6, $f8
/* 10FD8 80022078 10000004 */  beq     $zero, $zero, .L8002208C
/* 10FDC 8002207C E60A0028 */  swc1    $f10, 0x0028($s0)          ## 00000028
/* 10FE0 80022080 960F0088 */  lhu     $t7, 0x0088($s0)           ## 00000088
.L80022084:
/* 10FE4 80022084 31F9FFEF */  andi    $t9, $t7, 0xFFEF           ## $t9 = 00000000
/* 10FE8 80022088 A6190088 */  sh      $t9, 0x0088($s0)           ## 00000088
.L8002208C:
/* 10FEC 8002208C 8FB8008C */  lw      $t8, 0x008C($sp)
/* 10FF0 80022090 02002825 */  or      $a1, $s0, $zero            ## $a1 = 00000000
/* 10FF4 80022094 27A60064 */  addiu   $a2, $sp, 0x0064           ## $a2 = FFFFFFEC
/* 10FF8 80022098 33080004 */  andi    $t0, $t8, 0x0004           ## $t0 = 00000000
/* 10FFC 8002209C 5100004F */  beql    $t0, $zero, .L800221DC
/* 11000 800220A0 8FBF0034 */  lw      $ra, 0x0034($sp)
/* 11004 800220A4 8FA40078 */  lw      $a0, 0x0078($sp)
/* 11008 800220A8 C6100104 */  lwc1    $f16, 0x0104($s0)          ## 00000104
/* 1100C 800220AC 03003825 */  or      $a3, $t8, $zero            ## $a3 = 00000000
/* 11010 800220B0 248A07C0 */  addiu   $t2, $a0, 0x07C0           ## $t2 = 000007C0
/* 11014 800220B4 AFAA0040 */  sw      $t2, 0x0040($sp)
/* 11018 800220B8 0C008718 */  jal     func_80021C60
/* 1101C 800220BC E7B00068 */  swc1    $f16, 0x0068($sp)
/* 11020 800220C0 C6120028 */  lwc1    $f18, 0x0028($s0)          ## 00000028
/* 11024 800220C4 27AB0050 */  addiu   $t3, $sp, 0x0050           ## $t3 = FFFFFFD8
/* 11028 800220C8 27AC0054 */  addiu   $t4, $sp, 0x0054           ## $t4 = FFFFFFDC
/* 1102C 800220CC E7B20050 */  swc1    $f18, 0x0050($sp)
/* 11030 800220D0 8E07002C */  lw      $a3, 0x002C($s0)           ## 0000002C
/* 11034 800220D4 8E060024 */  lw      $a2, 0x0024($s0)           ## 00000024
/* 11038 800220D8 AFAC0014 */  sw      $t4, 0x0014($sp)
/* 1103C 800220DC AFAB0010 */  sw      $t3, 0x0010($sp)
/* 11040 800220E0 8FA40078 */  lw      $a0, 0x0078($sp)
/* 11044 800220E4 0C00D1FF */  jal     func_800347FC
/* 11048 800220E8 8FA50040 */  lw      $a1, 0x0040($sp)
/* 1104C 800220EC 10400034 */  beq     $v0, $zero, .L800221C0
/* 11050 800220F0 C7A40050 */  lwc1    $f4, 0x0050($sp)
/* 11054 800220F4 C6060028 */  lwc1    $f6, 0x0028($s0)           ## 00000028
/* 11058 800220F8 44808000 */  mtc1    $zero, $f16                ## $f16 = 0.00
/* 1105C 800220FC 46062201 */  sub.s   $f8, $f4, $f6
/* 11060 80022100 E6080084 */  swc1    $f8, 0x0084($s0)           ## 00000084
/* 11064 80022104 C60A0084 */  lwc1    $f10, 0x0084($s0)          ## 00000084
/* 11068 80022108 4610503C */  c.lt.s  $f10, $f16
/* 1106C 8002210C 00000000 */  nop
/* 11070 80022110 45020006 */  bc1fl   .L8002212C
/* 11074 80022114 96020088 */  lhu     $v0, 0x0088($s0)           ## 00000088
/* 11078 80022118 960D0088 */  lhu     $t5, 0x0088($s0)           ## 00000088
/* 1107C 8002211C 31AEFF9F */  andi    $t6, $t5, 0xFF9F           ## $t6 = 00000000
/* 11080 80022120 1000002D */  beq     $zero, $zero, .L800221D8
/* 11084 80022124 A60E0088 */  sh      $t6, 0x0088($s0)           ## 00000088
/* 11088 80022128 96020088 */  lhu     $v0, 0x0088($s0)           ## 00000088
.L8002212C:
/* 1108C 8002212C 304F0020 */  andi    $t7, $v0, 0x0020           ## $t7 = 00000000
/* 11090 80022130 15E00020 */  bne     $t7, $zero, .L800221B4
/* 11094 80022134 34590040 */  ori     $t9, $v0, 0x0040           ## $t9 = 00000040
/* 11098 80022138 A6190088 */  sh      $t9, 0x0088($s0)           ## 00000088
/* 1109C 8002213C 8FA8008C */  lw      $t0, 0x008C($sp)
/* 110A0 80022140 27A50044 */  addiu   $a1, $sp, 0x0044           ## $a1 = FFFFFFCC
/* 110A4 80022144 24060064 */  addiu   $a2, $zero, 0x0064         ## $a2 = 00000064
/* 110A8 80022148 31180040 */  andi    $t8, $t0, 0x0040           ## $t8 = 00000000
/* 110AC 8002214C 17000018 */  bne     $t8, $zero, .L800221B0
/* 110B0 80022150 240701F4 */  addiu   $a3, $zero, 0x01F4         ## $a3 = 000001F4
/* 110B4 80022154 C6120024 */  lwc1    $f18, 0x0024($s0)          ## 00000024
/* 110B8 80022158 C7A40050 */  lwc1    $f4, 0x0050($sp)
/* 110BC 8002215C 8FA40078 */  lw      $a0, 0x0078($sp)
/* 110C0 80022160 E7B20044 */  swc1    $f18, 0x0044($sp)
/* 110C4 80022164 E7A40048 */  swc1    $f4, 0x0048($sp)
/* 110C8 80022168 C606002C */  lwc1    $f6, 0x002C($s0)           ## 0000002C
/* 110CC 8002216C AFA00010 */  sw      $zero, 0x0010($sp)
/* 110D0 80022170 0C0073CF */  jal     func_8001CF3C
/* 110D4 80022174 E7A6004C */  swc1    $f6, 0x004C($sp)
/* 110D8 80022178 24090004 */  addiu   $t1, $zero, 0x0004         ## $t1 = 00000004
/* 110DC 8002217C AFA90010 */  sw      $t1, 0x0010($sp)
/* 110E0 80022180 8FA40078 */  lw      $a0, 0x0078($sp)
/* 110E4 80022184 27A50044 */  addiu   $a1, $sp, 0x0044           ## $a1 = FFFFFFCC
/* 110E8 80022188 24060064 */  addiu   $a2, $zero, 0x0064         ## $a2 = 00000064
/* 110EC 8002218C 0C0073CF */  jal     func_8001CF3C
/* 110F0 80022190 240701F4 */  addiu   $a3, $zero, 0x01F4         ## $a3 = 000001F4
/* 110F4 80022194 240A0008 */  addiu   $t2, $zero, 0x0008         ## $t2 = 00000008
/* 110F8 80022198 AFAA0010 */  sw      $t2, 0x0010($sp)
/* 110FC 8002219C 8FA40078 */  lw      $a0, 0x0078($sp)
/* 11100 800221A0 27A50044 */  addiu   $a1, $sp, 0x0044           ## $a1 = FFFFFFCC
/* 11104 800221A4 24060064 */  addiu   $a2, $zero, 0x0064         ## $a2 = 00000064
/* 11108 800221A8 0C0073CF */  jal     func_8001CF3C
/* 1110C 800221AC 240701F4 */  addiu   $a3, $zero, 0x01F4         ## $a3 = 000001F4
.L800221B0:
/* 11110 800221B0 96020088 */  lhu     $v0, 0x0088($s0)           ## 00000088
.L800221B4:
/* 11114 800221B4 344B0020 */  ori     $t3, $v0, 0x0020           ## $t3 = 00000020
/* 11118 800221B8 10000007 */  beq     $zero, $zero, .L800221D8
/* 1111C 800221BC A60B0088 */  sh      $t3, 0x0088($s0)           ## 00000088
.L800221C0:
/* 11120 800221C0 960C0088 */  lhu     $t4, 0x0088($s0)           ## 00000088
/* 11124 800221C4 3C01C6FA */  lui     $at, 0xC6FA                ## $at = C6FA0000
/* 11128 800221C8 44814000 */  mtc1    $at, $f8                   ## $f8 = -32000.00
/* 1112C 800221CC 318DFF9F */  andi    $t5, $t4, 0xFF9F           ## $t5 = 00000000
/* 11130 800221D0 A60D0088 */  sh      $t5, 0x0088($s0)           ## 00000088
/* 11134 800221D4 E6080084 */  swc1    $f8, 0x0084($s0)           ## 00000084
.L800221D8:
/* 11138 800221D8 8FBF0034 */  lw      $ra, 0x0034($sp)
.L800221DC:
/* 1113C 800221DC 8FB00030 */  lw      $s0, 0x0030($sp)
/* 11140 800221E0 27BD0078 */  addiu   $sp, $sp, 0x0078           ## $sp = 00000000
/* 11144 800221E4 03E00008 */  jr      $ra
/* 11148 800221E8 00000000 */  nop


